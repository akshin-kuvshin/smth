задаём исходный разностный массив с самого начала (в итоге сам исходный массив нам не нужен, т.к. считаем, что есть нулевой элемент 0, который не изменяется), затем строим изменённый массив на основе изменённого разностного (по принципу префиксных сумм).